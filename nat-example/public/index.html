<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      #events{
        position: absolute;
        bottom: 10px;
        width: 50%;
        border: 3px solid #8AC007;
        overflow:auto;
        height: 30%;
      }
      html, body {
        padding: 0px;
        margin: 0px;
        touch-action: none;
      }
      p, button {
        font-family: Roboto, Arial, sans-serif;
        font-size: 1.125rem;
        line-height: 1.5em;
      }

      button {
        color: white;
        background: #369;
        border: 0;
        padding: 0.5rem 1rem;
      }

      button:hover {
        background: #136;
      }

      #amdfc-controller {
        position: fixed !important;
        bottom: 1vmin;
        right: 1vmin;
        max-width: 750px;
        min-width: 650px;
        width: 50vw;
      }
      canvas {
        width:100% !important;
        height:100% !important;
      }
    </style>
  </head>
  <script src="./simulator.js"></script>
  <script>
    //max-width: 550px;
    // var console2 = console;
    // var console = {};
    // console.log = function(txt){
    //   document.querySelector("#events")
    //   .insertAdjacentHTML('afterbegin', '<div><b>'+txt+'</b></div>');
    //   console2.log(txt)
    // };
    //  console.error = function(txt){
    //   document.querySelector("#events")
    //   .insertAdjacentHTML('afterbegin', '<p style="color:red"><b>'+txt+'</b></p>');
    //   console2.error(txt)
    // };
    // window.setInterval(function() {
    //   var elem = document.getElementById('events');
    //   elem.scrollTop = elem.scrollHeight;
    // }, 5000);
    window.game_server = function(){
      return 'ws://localhost:7083/';
    }
  var url = 'assets/2d/flag32.css';

  fetch(url)
    .then(function(response) {
      response.text().then(function(text) {
        var lines = text.split('\n');
        var f32_array = []
        for (var i=0; i<lines.length;i++){
          var b = lines[i].split("{")[0].split(".f32 ")[1].replace(",","")
          //var b = lines[i]
          f32_array.push(b);
        }
        window.f32_country_array = f32_array
      });
    });
  </script>
  <!-- <script type="module">
    import init from './desk-client.js'
    init()
  </script> -->

  <script src="bundle.js"></script>
  <body>
    <img src="./bevy.jpeg" style="width: 10vw;height:50px">
    <img src="./Wasmcloud.png" style="width: 10vw;position: absolute;right:0px">
    <div style="width: 10vw;position: absolute;right:40px"><img src="./twitter.png" style="width: 2vw;">@Rustropy_gaming</div>
    <button onclick="myFunction()">Gamepad</button>
    <!-- <p>
      <button onclick="handleButtonClick(this)">Connect</button>
      <button onclick="document.querySelector('#events').innerHTML = '';">Clear log</button>
    </p> -->
    <!-- <p id="events">
    </p> -->
  </body>
  <script src="./controller.js"></script>
  <script>
    function myFunction() {
      var x = document.getElementById("amdfc-controller");
      if (x.style.display === "none") {
        x.style.display = "block";
      } else {
        x.style.display = "none";
      }
    }
  </script>
</html>